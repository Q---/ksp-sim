
% 1: Atmosphere reached
% 2: Out of fuel
% 3: Surface collision
% 4: Fell into gravity turn zone

function [value, isterminal, direction] = vertical_ascent_events(~,Z)
    
    global CRAFT PLANET ATMOSPHERE TARGET
        MF = CRAFT(5);
        AH = ATMOSPHERE(2);
        TF = TARGET(2);
    
    m = Z(5);
    
    value = [h-AH; m-MF; h; h-TF];
    isterminal = [1; 1; 1; 1; 1];
    direction = [1; -1; -1; -1];
    
end